:root{--kbd-bg: #ffffff;--kbd-bg-secondary: #f9fafb;--kbd-text: #1f2937;--kbd-text-secondary: #6b7280;--kbd-border: #e5e7eb;--kbd-accent: #3b82f6;--kbd-accent-hover: #2563eb;--kbd-conflict: #ef4444;--kbd-conflict-bg: #fef2f2;--kbd-warning: #f59e0b;--kbd-warning-bg: #fef3c7;--kbd-timeout-bar: #10b981;--kbd-kbd-bg: #f3f4f6;--kbd-kbd-border: #d1d5db;--kbd-kbd-text: #374151;--kbd-radius: 8px;--kbd-radius-sm: 4px;--kbd-gap: 8px;--kbd-padding: 16px;--kbd-transition: .15s ease;--kbd-sequence-max-height: 300px;--kbd-sequence-row-padding: 8px 12px;--kbd-sequence-row-gap: 8px;--kbd-omnibar-max-height: 50vh}.kbd-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:9999}.kbd-modal{background-color:var(--kbd-bg);border-radius:var(--kbd-radius);padding:var(--kbd-padding);width:85vw;max-width:480px;max-height:80vh;overflow:auto;box-shadow:0 4px 20px #00000026;color:var(--kbd-text)}.kbd-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--kbd-gap)}.kbd-modal-title{margin:0;font-size:1.125rem;font-weight:600}.kbd-modal-header-buttons{display:flex;align-items:center;gap:8px}.kbd-reset-btn{background:none;border:1px solid var(--kbd-border);border-radius:var(--kbd-radius-sm);padding:4px 10px;font-size:.875rem;cursor:pointer;color:var(--kbd-text-secondary);transition:all var(--kbd-transition)}.kbd-reset-btn:hover{color:var(--kbd-text);border-color:var(--kbd-text-secondary)}.kbd-modal-close{background:none;border:none;font-size:1.25rem;cursor:pointer;padding:4px 8px;line-height:1;color:var(--kbd-text-secondary);transition:color var(--kbd-transition)}.kbd-modal-close:hover{color:var(--kbd-text)}.kbd-group{margin-bottom:var(--kbd-padding)}.kbd-group-title{margin:0 0 var(--kbd-gap);font-size:.75rem;font-weight:600;text-transform:uppercase;color:var(--kbd-text-secondary);letter-spacing:.05em}.kbd-action{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px solid var(--kbd-border);gap:var(--kbd-gap)}.kbd-action:last-child{border-bottom:none}.kbd-action-label{flex:1;font-size:.875rem}.kbd-action-bindings{display:flex;flex-wrap:wrap;gap:6px;align-items:center}.kbd-kbd{position:relative;display:inline-flex;align-items:center;gap:2px;background-color:var(--kbd-kbd-bg);border:1px solid var(--kbd-kbd-border);border-radius:var(--kbd-radius-sm);padding:3px 6px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,monospace;font-size:.75rem;color:var(--kbd-kbd-text);min-height:24px;white-space:nowrap}.kbd-kbd.editable{cursor:pointer;transition:all var(--kbd-transition)}.kbd-kbd.editable:hover,.kbd-kbd.editable:focus{border-color:var(--kbd-accent);background-color:var(--kbd-bg-secondary);outline:none}.kbd-kbd.editable:focus-visible{box-shadow:0 0 0 2px #3b82f64d}.kbd-kbd.editing{border-color:var(--kbd-accent);box-shadow:0 0 0 2px #3b82f633}.kbd-kbd.conflict{border-color:var(--kbd-conflict);background-color:var(--kbd-conflict-bg);color:var(--kbd-conflict)}.kbd-kbd.pending-conflict{border-color:var(--kbd-warning);background-color:var(--kbd-warning-bg);color:#92400e;animation:kbd-pulse 1s ease-in-out infinite}.kbd-kbd.default-binding{border-bottom:1px solid var(--kbd-text-secondary);border-bottom-left-radius:0;border-bottom-right-radius:0}@keyframes kbd-pulse{0%,to{opacity:1}50%{opacity:.7}}.kbd-modifier-icon{width:12px;height:12px;flex-shrink:0}.kbd-key-icon{width:14px;height:14px;flex-shrink:0}.kbd-placeholder{font-family:monospace;font-weight:600;color:var(--kbd-text);background:var(--kbd-bg-secondary);border:1px solid var(--kbd-border);border-radius:var(--kbd-radius-sm);padding:0 3px;margin:0 1px}.kbd-sequence-sep{color:var(--kbd-text-secondary);margin:0 1px}.kbd-clickable{cursor:pointer;transition:all var(--kbd-transition)}.kbd-clickable:hover{background:var(--kbd-accent);color:#fff}.kbd-clickable:focus-visible{outline:2px solid var(--kbd-accent);outline-offset:2px}.kbd-add-btn{background:none;border:1px dashed var(--kbd-border);border-radius:var(--kbd-radius-sm);padding:3px 8px;font-size:.875rem;color:var(--kbd-text-secondary);cursor:pointer;transition:all var(--kbd-transition)}.kbd-add-btn:hover{border-color:var(--kbd-accent);color:var(--kbd-accent)}.kbd-remove-btn{position:absolute;top:-6px;right:-6px;display:flex;align-items:center;justify-content:center;background:var(--kbd-conflict, #dc2626);border:none;border-radius:50%;padding:0;width:16px;height:16px;font-size:12px;font-weight:700;line-height:1;color:#fff;cursor:pointer;opacity:0;transform:scale(.8);transition:opacity var(--kbd-transition),transform var(--kbd-transition),background var(--kbd-transition)}.kbd-kbd:hover .kbd-remove-btn,.kbd-kbd:focus-within .kbd-remove-btn{opacity:1;transform:scale(1)}.kbd-remove-btn:hover{background:#b91c1c}.kbd-timeout-bar{position:absolute;bottom:0;left:0;height:3px;background-color:var(--kbd-timeout-bar);animation:kbd-timeout linear forwards}@keyframes kbd-timeout{0%{width:100%}to{width:0}}.kbd-omnibar-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#00000080;display:flex;align-items:flex-start;justify-content:center;padding-top:20vh;z-index:9999}.kbd-omnibar{background-color:var(--kbd-bg);border-radius:var(--kbd-radius);box-shadow:0 4px 20px #00000026;width:90vw;max-width:500px;overflow:hidden}.kbd-omnibar-input{width:100%;padding:12px var(--kbd-padding);border:none;border-bottom:1px solid var(--kbd-border);font-size:1rem;background-color:var(--kbd-bg);color:var(--kbd-text);outline:none}.kbd-omnibar-input::placeholder{color:var(--kbd-text-secondary)}.kbd-omnibar-results{max-height:var(--kbd-omnibar-max-height);overflow-y:auto}.kbd-omnibar-result{display:flex;align-items:center;padding:10px var(--kbd-padding);cursor:pointer;gap:var(--kbd-gap);transition:background-color var(--kbd-transition)}.kbd-omnibar-result:hover,.kbd-omnibar-result.selected{background-color:var(--kbd-bg-secondary)}.kbd-omnibar-result.selected{border-left:3px solid var(--kbd-accent);padding-left:calc(var(--kbd-padding) - 3px)}.kbd-omnibar-result-label{flex:1;font-size:.875rem}.kbd-omnibar-result-category{font-size:.75rem;color:var(--kbd-text-secondary)}.kbd-omnibar-result-bindings{display:flex;gap:4px}.kbd-omnibar-no-results,.kbd-omnibar-loading{padding:var(--kbd-padding);text-align:center;color:var(--kbd-text-secondary);font-size:.875rem}.kbd-omnibar-pagination{padding:8px var(--kbd-padding);text-align:center;font-size:.75rem;color:var(--kbd-text-secondary);border-top:1px solid var(--kbd-border)}.kbd-omnibar-pagination-loading,.kbd-omnibar-pagination-more{font-style:italic}.kbd-omnibar-result-description{font-size:.75rem;color:var(--kbd-text-secondary);margin-left:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.kbd-sequence-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:flex-start;justify-content:center;padding-top:20vh;z-index:9998;background-color:#0003;animation:kbd-fade-in .1s ease}@keyframes kbd-fade-in{0%{opacity:0}to{opacity:1}}.kbd-sequence{background-color:var(--kbd-bg);border:1px solid var(--kbd-border);border-radius:12px;box-shadow:0 8px 32px #0003;min-width:280px;max-width:400px;overflow:hidden;animation:kbd-slide-down .15s ease;color:var(--kbd-text)}@keyframes kbd-slide-down{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.kbd-sequence-current{display:flex;align-items:center;justify-content:center;gap:4px;padding:16px 20px;border-bottom:1px solid var(--kbd-border);background-color:var(--kbd-bg-secondary)}.kbd-sequence-keys{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,monospace;font-size:1.25rem;font-weight:600;background-color:var(--kbd-bg);border:1px solid var(--kbd-border);border-radius:6px;color:var(--kbd-text)}.kbd-sequence-ellipsis{font-size:1.5rem;color:var(--kbd-text-secondary);animation:kbd-ellipsis-pulse .8s ease-in-out infinite}@keyframes kbd-ellipsis-pulse{0%,to{opacity:1}50%{opacity:.4}}.kbd-sequence-timeout{height:3px;background:linear-gradient(90deg,var(--kbd-accent),#60a5fa);transform-origin:left;animation:kbd-shrink linear forwards}@keyframes kbd-shrink{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.kbd-sequence-completions{padding:12px 16px;display:flex;flex-direction:column;gap:var(--kbd-sequence-row-gap);max-height:var(--kbd-sequence-max-height);overflow-y:auto}.kbd-sequence-completion{display:flex;align-items:center;gap:8px;padding:var(--kbd-sequence-row-padding);border-radius:6px;transition:background-color .1s ease}.kbd-sequence-completion:hover{background-color:var(--kbd-bg-secondary)}.kbd-sequence-completion.selected{background-color:var(--kbd-bg-secondary);outline:2px solid var(--kbd-accent);outline-offset:-2px}.kbd-sequence-arrow{color:var(--kbd-text-secondary);font-size:.9rem}.kbd-sequence-actions{flex:1;font-size:.9rem;color:var(--kbd-text)}.kbd-sequence-empty{padding:16px;text-align:center;color:var(--kbd-text-secondary);font-style:italic;font-size:.9rem}.kbd-table{width:100%;border-collapse:collapse}.kbd-table th,.kbd-table td{padding:6px var(--kbd-gap);text-align:left;border-bottom:1px solid var(--kbd-border)}.kbd-table th{font-weight:600;font-size:.85rem;color:var(--kbd-text-secondary)}.kbd-table td:not(:first-child){text-align:center}.kbd-lookup-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;display:flex;align-items:flex-start;justify-content:center;padding-top:15vh;z-index:9999;background-color:#00000080;animation:kbd-fade-in .1s ease}.kbd-lookup{background-color:var(--kbd-bg);border-radius:var(--kbd-radius);box-shadow:0 8px 32px #0003;width:90vw;max-width:500px;max-height:70vh;display:flex;flex-direction:column;overflow:hidden}.kbd-lookup-header{padding:12px 16px;border-bottom:1px solid var(--kbd-border);display:flex;flex-direction:column;gap:8px}.kbd-lookup-search{display:flex;align-items:center;min-height:32px}.kbd-lookup-placeholder{color:var(--kbd-text-secondary);font-size:.875rem}.kbd-lookup-hint{font-size:.75rem;color:var(--kbd-text-secondary)}.kbd-lookup-results{flex:1;overflow-y:auto;padding:8px}.kbd-lookup-result{display:flex;align-items:center;gap:12px;padding:8px 12px;border-radius:6px;cursor:pointer;transition:background-color .1s ease}.kbd-lookup-result:hover,.kbd-lookup-result.selected{background-color:var(--kbd-bg-secondary)}.kbd-lookup-result.selected{outline:2px solid var(--kbd-accent);outline-offset:-2px}.kbd-lookup-binding{display:flex;gap:4px}.kbd-lookup-labels{flex:1;font-size:.875rem;color:var(--kbd-text)}.kbd-lookup-empty{padding:24px;text-align:center;color:var(--kbd-text-secondary);font-size:.875rem}.kbd-lookup-continuations{padding:8px 16px;border-top:1px solid var(--kbd-border);display:flex;align-items:center;gap:8px;flex-wrap:wrap}.kbd-lookup-continuations-label{font-size:.75rem;color:var(--kbd-text-secondary)}.kbd-kbd.kbd-small{font-size:.7rem;padding:2px 5px}[data-theme=dark],.dark{--kbd-bg: #1f2937;--kbd-bg-secondary: #374151;--kbd-text: #f3f4f6;--kbd-text-secondary: #9ca3af;--kbd-border: #4b5563;--kbd-kbd-bg: #374151;--kbd-kbd-border: #4b5563;--kbd-kbd-text: #e5e7eb}@media (prefers-color-scheme: dark){:root:not([data-theme=light]):not(.light){--kbd-bg: #1f2937;--kbd-bg-secondary: #374151;--kbd-text: #f3f4f6;--kbd-text-secondary: #9ca3af;--kbd-border: #4b5563;--kbd-kbd-bg: #374151;--kbd-kbd-border: #4b5563;--kbd-kbd-text: #e5e7eb}}
